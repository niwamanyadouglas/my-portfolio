{% extends 'base.html' %}

{% block title %}Live Demo - Automated Data Cleaning{% endblock %}

{% block content %}
<section id="demo" class="py-5 bg-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 text-center">
        <h2 class="mb-4 fw-bold" data-aos="fade-down">Live Demo: Automated Data Cleaning</h2>
        
        <div class="card shadow-sm p-4 mb-4" data-aos="zoom-in">
          <p class="lead text-muted">Upload a raw CSV file to automatically remove duplicates, handle missing values, and standardize column names.</p>
          
          <form method="POST" enctype="multipart/form-data" class="mt-3">
            <div class="input-group">
              <input type="file" name="file" accept=".csv" required class="form-control">
              <button type="submit" class="btn btn-primary px-4">Upload and Clean</button>
            </div>
            <div id="emailHelp" class="form-text text-start mt-2">Maximum file size: 10MB (.csv only)</div>
          </form>
        </div>

        {% if request.args.get('filename') %}
        <div class="alert alert-success d-flex align-items-center mt-4 shadow-sm" data-aos="flip-up">
          <div class="flex-grow-1">
            <strong>Success!</strong> Your cleaned dataset is ready for download.
          </div>
          <a href="{{ url_for('download_cleaned_file', filename=request.args.get('filename')) }}" class="btn btn-success btn-sm ms-3">
            <i class="fas fa-download"></i> Download CSV
          </a>
        </div>
        {% endif %}

      </div>
    </div>
  </div>
</section>
{% endblock %}